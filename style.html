<!DOCTYPE html>
<html>
<head>
	<title></title>
  <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
  <style type="text/css">
      .week_whole_wrapper{
          overflow-y: scroll;
          pointer-events: all;
      }
      .week.board{
    position: relative;
    left: 0;
    top: 0;
width: 355vh}
.week_whole_wrapper{
    transform-origin: left top;
    transform: scale(0.25);
    height: 400vh;
    width: 400vw;
}
.text_inner{
  width: 100%
}

  </style>
</head>
<body>
	<script src="jquery.js"></script>
    <script src="db.js"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			$('body').css({'width':$('img').outerWidth()+'px'})

      for (var i = new_text_content.length - 1; i >= 0; i--) {
        console.log(new_text_content[i][0])
                $('.week_whole_wrapper').append('\
                    <div class="week board"">\
                        <div class="text_inner text_inner">\
                        <div class="text_inner_wrapper text_inner_wrapper_'+i+'">\
            <div class="text_inner_content text_inner_content_1 ' + new_text_content_org[i][0] + '">' + new_text_content[i][0][0]+'</div>\
            <div class="text_inner_content text_inner_content_2 ' + new_text_content_org[i][1] + '">' + new_text_content[i][1][0]+'</div>\
            <div class="text_inner_content text_inner_content_3 ' + new_text_content_org[i][2] + '">' + new_text_content[i][2][0]+'</div>\
                        </div>\
                        </div>\
                    </div>\
                </div>')

                  $('.text_inner_wrapper_'+i).find('.sep_img-1').addClass('sep_img')
                  $('.text_inner_wrapper_'+i).find('.sep_img-2').addClass('sep_img')
                  $('.text_inner_wrapper_'+i).find('.sep_img-3').addClass('sep_img')
                  $('.text_inner_wrapper_'+i).find('.sep_img-4').addClass('sep_img')
                  var a = $('.text_inner_wrapper_'+i).outerWidth()
                  var b = $('.text_inner_wrapper_'+i).find('.text_inner_content_1').outerWidth()
                  if($('.text_inner_wrapper_'+i).find('.text_inner_content_1').hasClass('sep_img')){b = 0}
                  var c = $('.text_inner_wrapper_'+i).find('.text_inner_content_2').outerWidth()
                if($('.text_inner_wrapper_'+i).find('.text_inner_content_2').hasClass('sep_img')){c = 0}
                  var d = $('.text_inner_wrapper_'+i).find('.text_inner_content_3').outerWidth()
                if($('.text_inner_wrapper_'+i).find('.text_inner_content_3').hasClass('sep_img')){d = 0}
                  console.log(a)
                  console.log(b)
                  console.log(c)
                  console.log(d)
                  // $('.text_inner_wrapper_'+i).find('.sep_img').css({'width':(a-b-c-d) + 'px'})
                  if($('.text_inner_wrapper_'+i).find('.sep_img').length==1){
                    $('.text_inner_wrapper_'+i).find('.sep_img').css({'width':(a-b-c-d) + 'px'})
          
                  }
                  if($('.text_inner_wrapper_'+i).find('.sep_img').length==2){
                    $('.text_inner_wrapper_'+i).find('.sep_img').css({'width':(a-b-c-d)/2 + 'px'})
          
                  }
//                   console.log(a)
// console.log(b)
// console.log(c)
// console.log(d)
                if(i == 0){
                    $('.sep_400-2').each(function(){
                            var count = 0
                        $(this).find('a').each(function(index){
                            console.log(count)
                            if(count>12){
                                console.log($(this).prev())
                            }
                            if( $(this).offset().top < $(this).parent().parent().offset().top&&count<13){
                                count++
                                $( "<br>" ).insertBefore($(this))
                                $(this).addClass(count)
                                    $(this).css({'margin-left':-2*count+'vh'})
                            }else if(count>12 && $(this).offset().top > $(this).prev().offset().top){
                                console.log($(this).offset().top)
                                $( "<br>" ).insertBefore($(this))
                            }
                        })
                    })
                }
      }
      var width_array
      setTimeout(function(){

                    var width_array = [0]
                    var k = 1/$('.'+classname).find('.board').length
                    $('.'+classname).find('.board_info_time_'+i).find('.text_inner_content').each(function(index){
                      width_array.push($(this).outerWidth()/$(this).parent().outerWidth() + width_array[index])
                      console.log(width_array)
                      if(index == 2){
                        console.log(width_array.length)
                        $('.'+classname).find('.board').each(function(index_inner){
                          for (var q = width_array.length - 2; q >= 0; q--) {
                            if(((k*index_inner)>=width_array[q]&&
                              (k*index_inner)<=width_array[q+1])
                              ||
                              ((k*index_inner)+k)>=width_array[q]&&
                              ((k*index_inner)+k)<=width_array[q+1]){}else{
                              $('.text_inner_content_'+q).remove()
                            }
                          }
                        })

                      }
                    })

      })
		})
	</script>
  <div class="week_whole_wrapper_wrapper">
    <div class="week_whole_wrapper"></div>
  </div>
</body>
</html>